controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (trex.isHittingTile(CollisionDirection.Bottom)) {
        trex.vy = -220
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    game.gameOver(true)
})
sprites.onDestroyed(SpriteKind.Projectile, function (sprite) {
    info.changeScoreBy(1)
})
let exit2 = 0
let projectile: Sprite = null
let trex: Sprite = null
scene.setBackgroundColor(13)
trex = sprites.create(img`
    ........ccc.............
    ........cccccccc........
    .....cc..cc55555cc......
    .....cccc555555555c.....
    .....ccb55555555555c....
    ...cc.b5555bcc555555c...
    ...ccb55555555c55d55c...
    ....cb5555dd55555555c...
    .....5555dd5555d5555c...
    ..cc.555dd555555dbbbc...
    ..ccc55ddd555555d555c...
    ...ccd5dbdd5555d555c....
    ....bdddb555bbbbbccc....
    ..cccdddb555cbbbbbbbc...
    ...ccddddb555cbbbbbbbc..
    ....cdddddb555cbbbbbbc..
    ...ccddddddb55cbbbbbbcc.
    ...cbddddd55bcbbbbbbbcc.
    ..cbdddddd5555bbbbbbbc..
    .cddddddbdd555bbbbbbc...
    cddddddbbbdd55cbbccc....
    ccccccbbcbddddccdddcc...
    ......cccdd555dcccccc...
    ........cccccccc........
    `, SpriteKind.Player)
trex.setPosition(20, 70)
trex.ay = 400
tiles.setCurrentTilemap(tilemap`level1`)
game.onUpdateInterval(1500, function () {
    projectile = sprites.createProjectileFromSide(img`
        ........................
        ..........bbbb..........
        ........bbddddbb........
        .......bddbbbbddb.......
        ......bdbbddddbbdb......
        .....bdbbdbbbbdbbdb.....
        .....bdbdbddddbdbdb.....
        .....cdbbdbbbbdbbdc.....
        .....cbdbbddddbbdbc.....
        .....efbddbbbbddbce.....
        .....eeffbddddbccee.....
        .....eeeeffcccceee......
        .....ceeeeeeeeeeee......
        .....ceeeeeeeeeeee......
        .....feeeeeeeeeeee......
        .....cceeeeeeeeeee......
        ......feeeeeeeeeee......
        .....6fceeeeeeeeee6.....
        ....6776eeeeeeeee676....
        ...6777666eeee6666776...
        ..67768e67766777667776..
        ...668ee7768867788666...
        ......ee77eeee77ecee....
        ......ee6eeeeee6eef.....
        `, randint(-200, -120), 0)
    tiles.placeOnTile(projectile, tiles.getTileLocation(9, 5))
    projectile.setFlag(SpriteFlag.AutoDestroy, true)
    exit2 += 1
    if (exit2 > 4) {
        exit2 = randint(1, 2)
        if (exit2 == 2) {
            pause(100)
            projectile = sprites.createProjectileFromSide(img`
                .........bbbb...........
                .......bb1111bb.........
                ......bb111111bbbbb.....
                ......b1111111ddd11b....
                ......b11111111d1111b...
                ...bbbd11111111d1111b...
                ..b11111111111111111bb..
                .b11111111111111111d11b.
                .b111d11111111111111111b
                cdd1d111111111111111111c
                cdddd11111111111111111dc
                cddbd11111d11111dd111dc.
                .cbbdd111dddd11ddbdddcc.
                .ccbbdddddbdddddddbcc...
                ...cccdddbbbdddddcc.....
                ......ccccccccccc.......
                `, randint(-120, -100), 0)
            tiles.placeOnTile(projectile, tiles.getTileLocation(9, 3))
        }
    }
})
